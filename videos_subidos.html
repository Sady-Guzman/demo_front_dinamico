<body>
  <h1>Videos subidos</h1>
  <div id="lista"></div>

  <script>
    async function cargar() {
      const res = await fetch('/api/listar-videos');
      const json = await res.json();

      if (!json.ok) {
        document.getElementById("lista").innerHTML = "Error al cargar.";
        return;
      }

      const cont = document.getElementById("lista");
      cont.innerHTML = "";

      json.data.forEach(v => {
        const box = document.createElement("div");
        box.innerHTML = `
          <h3>${v.nombre_completo} (${v.nivel_estudiante})</h3>
          <iframe width="400" height="225" src="${v.url_video}" frameborder="0"></iframe>
          <hr>
        `;
        cont.appendChild(box);
      });
    }

    cargar();
  </script>
</body>
